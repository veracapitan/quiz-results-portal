<<<<<<< HEAD
import { MotionGlobalConfig } from 'motion-utils';
=======
>>>>>>> 3b008e380491e6ba2d199016330fcd7fa128de4c
import { isWillChangeMotionValue } from './is.mjs';

function addValueToWillChange(visualElement, key) {
    const willChange = visualElement.getValue("willChange");
    /**
     * It could be that a user has set willChange to a regular MotionValue,
     * in which case we can't add the value to it.
     */
    if (isWillChangeMotionValue(willChange)) {
        return willChange.add(key);
    }
<<<<<<< HEAD
    else if (!willChange && MotionGlobalConfig.WillChange) {
        const newWillChange = new MotionGlobalConfig.WillChange("auto");
        visualElement.addValue("willChange", newWillChange);
        newWillChange.add(key);
    }
=======
>>>>>>> 3b008e380491e6ba2d199016330fcd7fa128de4c
}

export { addValueToWillChange };
